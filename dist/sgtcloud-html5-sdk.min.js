(function(){var c=function(){var a=function(){return a.fn.init()};a.fn=a.prototype={init:function(){return this}};a.extend=a.fn.extend=function(){var b,a,c,f,h=arguments[0]||{},g=1,k=arguments.length;k===g&&(h=this,--g);for(;g<k;g++)if(null!=(b=arguments[g]))for(a in b)c=h[a],f=b[a],c!==f&&void 0!==f&&(h[a]=f);return h};return a}();window.SgtApi=window.$s=$s=c()})();
function $JsonRpc(c){this.data=c;this.call=function(a,b,c,e){jsonRPC.setup({endPoint:this.data.ajaxUrl,namespace:""});jsonRPC.request(a,{params:b,success:c,error:e})}}SgtApi.config={Appgateway:"http://gw.sgtcloud.cn/gateway",AppId:"",ChannelId:"",UserName:null,UserPassword:"",CheckInBoardId:"",Mail_TYPE_NOREAD:0,Mail_TYPE_READ:1,Announce_TYPE_ACT:1,Announce_TYPE_MAL:2};
SgtApi.init=function(c){""!=c.Appgateway&&c.Appgateway&&(SgtApi.config.Appgateway=c.Appgateway);""!=c.AppId&&c.AppId&&(SgtApi.config.AppId=c.AppId);""!=c.ChannelId&&c.ChannelId&&(SgtApi.config.ChannelId=c.ChannelId);""!=c.CheckInBoardId&&c.CheckInBoardId&&(SgtApi.config.CheckInBoardId=c.CheckInBoardId)};
SgtApi.User=function(){this.updateTime=this.registryType=this.phoneNumber=this.mac=this.lastLoginTime=this.imei=this.iccid=this.createTime=this.email=this.userName=this.userid=this.password=this.nickName=null};SgtApi.AccountService=SgtApi.AccountService||{};
SgtApi.extend(SgtApi.AccountService,{userData:null,playServerData:null,quickLogin:function(c){var a=localStorage.getItem("sgt-"+SgtApi.config.AppId+"-username");if(a){var b=localStorage.getItem("sgt-"+SgtApi.config.AppId+"-password");SgtApi.config.UserName=a;SgtApi.config.UserPassword=b;this.login(c)}else{for(var b="0123456789".split(""),d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a="",e=0;8>e;e++)if(5<e)var f=Math.ceil(9*Math.random()),a=a+b[f];else f=Math.ceil(61*
Math.random()),a+=d[f];b=new SgtApi.User;b.userName=a;b.password="yoedge2014";localStorage.setItem("sgt-"+SgtApi.config.AppId+"-username",b.userName);localStorage.setItem("sgt-"+SgtApi.config.AppId+"-password",b.password);this.register(b,c)}},login:function(c){var a=this;(new $JsonRpc({ajaxUrl:SgtApi.config.Appgateway+"/user"})).call("login",[SgtApi.config.UserName,SgtApi.config.UserPassword],function(b){a.userData=b.result;a.getPlayServer(c)},function(b){console.log("There was an error[AccountService.login]:",
b.error);return c(!1,b.error.message)})},register:function(c,a){SgtApi.config.UserName=c.userName;SgtApi.config.UserPassword=c.password;var b=this;(new $JsonRpc({ajaxUrl:SgtApi.config.Appgateway+"/user"})).call("register",[c],function(c){b.userData=c.result;b.getPlayServer(a)},function(b){console.log("There was an error[register]:",b.error);return a(!1,b.error.message)})},resetPassword:function(c,a){(new $JsonRpc({ajaxUrl:SgtApi.config.Appgateway+"/user"})).call("resetPassword",[c],function(b){return a(!0,
b.result)},function(b){console.log("There was an error[register]:",b.error);return a(!1,b.error.message)})},updatePasswordByUserName:function(c,a,b){(new $JsonRpc({ajaxUrl:SgtApi.config.Appgateway+"/user"})).call("updatePasswordByUserName",[c,a],function(a){return b(!0,a.result)},function(a){console.log("There was an error[register]:",a.error);return b(!1,a.error.message)})},updateUser:function(c,a){(new $JsonRpc({ajaxUrl:SgtApi.config.Appgateway+"/user"})).call("updateUser",[c],function(b){return a(!0,
b.result)},function(b){console.log("There was an error[register]:",b.error);return a(!1,b.error.message)})},updateUserByUserId:function(c,a,b,d,e){(new $JsonRpc({ajaxUrl:SgtApi.config.Appgateway+"/user"})).call("updateUserByUserId",[c,a,b,d],function(b){return e(!0,b.result)},function(b){console.log("There was an error[register]:",b.error);return e(!1,b.error.message)})},updateUserNameAndPassword:function(c,a,b,d){(new $JsonRpc({ajaxUrl:SgtApi.config.Appgateway+"/user"})).call("updateUserNameAndPassword",
[c,a,b],function(b){return d(!0,b.result)},function(b){console.log("There was an error[register]:",b.error);return d(!1,b.error.message)})},getPlayServer:function(c){if(null==SgtApi.config.ChannelId)return c(!1,"channelId\u672a\u8bbe\u7f6e\uff01");var a=this;(new $JsonRpc({ajaxUrl:SgtApi.config.Appgateway+"/route"})).call("route",[SgtApi.config.AppId,{userId:this.userData.userid,createTime:this.userData.createTime,channelId:SgtApi.config.ChannelId}],function(b){a.playServerData=b.result;return c(!0,
a.userData)},function(b){console.log('There was an error["error"][route]:',b.error);return c(!1,b.error.message)})}});SgtApi.Player=function(){this.equip=this.customId=null;this.id=0;this.lastLoginTime=null;this.level=1;this.userId=this.type=this.serverId=this.name=null;this.money=this.gender=this.friendsMaxNumber=this.vip=0};SgtApi.Save=function(){this.playerId=this.lastUploadTime=this.id=this.downFlag=this.content=null};SgtApi.PlayerService=SgtApi.PlayerService||{};
SgtApi.extend(SgtApi.PlayerService,{url:null,userData:null,playServerData:null,playerData:null,init:function(){if(null==SgtApi.AccountService.userData)return console.log("There was an error:","\u6ca1\u6709\u53d6\u5f97\u7528\u6237\u6570\u636e\uff01"),!1;if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.userData=SgtApi.AccountService.userData;this.playServerData=SgtApi.AccountService.playServerData;
this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/sgpplayer.do";return!0},create:function(c,a){c.lastLoginTime=this.userData.lastLoginTime;c.serverId=this.playServerData.id;c.userId=this.userData.userid;(new $JsonRpc({ajaxUrl:this.url})).call("create",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},update:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("update",[c],function(b){return a(!0,
b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getByUserId:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getByUserId",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getOneByUserId:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getOneByUserId",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},uploadSave:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("uploadSave",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},downloadSave:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("downloadSave",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getByName:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("getByName",
[c,a,b],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return d(!1,b.error.message)})},getByLastLoginTime:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("getByLastLoginTime",[c,a,b],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return d(!1,b.error.message)})},getSgpPlayerByCustomId:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getSgpPlayerByCustomId",[c],function(b){return a(!0,
b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},deleteSgpPlayerByPlayerId:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("deleteSgpPlayerByPlayerId",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getSgpPlayerById:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getSgpPlayerById",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},searchPlayersByLastLogin:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("searchPlayersByLastLogin",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},setFriendsMaxNumber:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("setFriendsMaxNumber",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},
getFriendsMaxNumber:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getFriendsMaxNumber",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},searchPlayersByLastLogin:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("searchPlayersByLastLogin",[c,a,b],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return d(!1,b.error.message)})}});
SgtApi.PlayerExtraService=SgtApi.PlayerExtraService||{};
SgtApi.extend(SgtApi.PlayerExtraService,{url:null,playerId:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==c)return console.log("There was an error:playerId is null"),!1;this.playerId=c;this.userData=SgtApi.AccountService.userData;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/playerExtraService.do";return!0},getPlayerById:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getPlayerById",
[this.playerId],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getPlayerList:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getPlayerList",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},findAll:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("findAll",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},findAllBycon:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("findAll",[c,a,b],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return d(!1,b.error.message)})},addPlayer:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("addPlayer",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},updatePlayer:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("updatePlayer",
[this.playerId,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},updatePlayerMap:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("updatePlayer",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},deletePlayerById:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("deletePlayerById",[this.playerId],function(a){return c(!0,a.result)},
function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})}});SgtApi.Achievement=SgtApi.Achievement||{};
SgtApi.extend(SgtApi.Achievement,{url:null,init:function(){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/achievement.do";return!0},getAllAchievements:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAllAchievements",[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return c(!1,a.error.message)})},getAchievementById:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAchievementById",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getAvailableAchievements:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAvailableAchievements",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},
getDoneAchievements:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getDoneAchievements",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getCompleteAchievements:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getCompleteAchievements",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},complete:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("complete",
[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},achieve:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("achieve",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},excuteAchievementsByType:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("excuteAchievementsByType",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},customAchievementsByType:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("excuteAchievementsByType",[c,a,b],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return d(!1,b.error.message)})},getAchievementsByType:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getAchievementsByType",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,
a.error.message)})},setAchievementProgress:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("setAchievementProgress",[c,a,b],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return d(!1,b.error.message)})},setAchievementsProgressByType:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("setAchievementsProgressByType",[c,a,b],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return d(!1,
b.error.message)})}});SgtApi.AnnouncementService=SgtApi.AnnouncementService||{};
SgtApi.extend(SgtApi.AnnouncementService,{url:null,init:function(){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.userData=SgtApi.AccountService.userData;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/announcement.do";return!0},getAnnounceByType:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAnnounceByType",[c],function(b){return a(!0,b.result)},
function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.CampaignService=SgtApi.CampaignService||{};
SgtApi.extend(SgtApi.CampaignService,{url:null,playerData:null,init:function(){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/campaign.do";return!0},getByTimeZone:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getByTimeZone",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},getCampaignById:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getCampaignById",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getCampaignDetaiById:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getCampaignDetaiById",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getCampaignDetaiByCId:function(c,
a){(new $JsonRpc({ajaxUrl:this.url})).call("getCampaignDetaiByCId",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},updateProgress:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("updateProgress",[c,this.playerid,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getCampaignProgress:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getCampaignProgress",
[c,this.playerid],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getAvailableCampaigns:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAvailableCampaigns",[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})}});SgtApi.CheckinService=SgtApi.CheckinService||{};
SgtApi.extend(SgtApi.CheckinService,{url:null,playerid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==c)return console.error("playerid is null"),!1;this.playerid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/checkinboard.do";return!0},checkin:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("checkin",[this.playerid,SgtApi.config.CheckInBoardId],
function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},accumlateCount:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("accumlateCount",[this.playerid,SgtApi.config.CheckInBoardId],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},countinuousCount:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("countinuousCount",[this.playerid,SgtApi.config.CheckInBoardId],
function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getByChekinboardId:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getCheckinboardByChekinboardId",[SgtApi.config.CheckInBoardId],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getLastCheckinTime:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getLastCheckinTime",[this.playerid,
SgtApi.config.CheckInBoardId],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getRewardByChekinboardId:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getRewardByChekinboardId",[SgtApi.config.CheckInBoardId],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},setCheckinTimes:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("setCheckinTimes",
[this.playerid,SgtApi.config.CheckInBoardId,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},validateCheckin:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("validateCheckin",[this.playerid,SgtApi.config.CheckInBoardId],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getAvailableChekinboards:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAvailableChekinboards",
[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getAvailableChekinboardsByTag:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAvailableChekinboardsByTag",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getAvailableChekinboardsByType:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAvailableChekinboardsByType",
[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.DailyTaskService=SgtApi.DailyTaskService||{};
SgtApi.extend(SgtApi.DailyTaskService,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(c)this.playid=c;else return console.log("There was an error:playid is null"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/dailytask.do";return!0},getDailyTasks:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getDailyTasks",
[this.playid],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},excuteTask:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("excuteTask",[c,this.playid],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},excuteTasksByType:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("excuteTasksByType",[c,this.playid],function(b){return a(!0,
b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getReward:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getReward",[c,this.playid],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},setTaskProgress:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("setTaskProgress",[this.playid,c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},setTasksProgressByType:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("setTasksProgressByType",[c,this.playid,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},addexcuteTasksByType:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("excuteTasksByType",[c,this.playid,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);
return b(!1,a.error.message)})},getDailyTasksByType:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getDailyTasksByType",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.Task=SgtApi.Task||{};
SgtApi.extend(SgtApi.Task,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if("undefined"==typeof c||!c)return console.log("There was an error:playid is null"),!1;this.playid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/task.do";return!0},getActionCount:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getActionCount",
[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},addActionCount:function(c,a,b){var d=new $JsonRpc({ajaxUrl:this.url});"undefined"!=typeof a&&a?d.call("addActionCount",[this.playid,c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)}):d.call("addActionCount",[this.playid,c],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},getTaskById:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getTaskById",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getAllTasks:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAllTasks",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getTasksByType:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getTasksByType",
[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getTasks:function(c,a,b,d){var e=new $JsonRpc({ajaxUrl:this.url});"undefined"!=typeof b&&b?e.call("getTasks",[c,this.playid,a,b],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return d(!1,b.error.message)}):e.call("getTasks",[c,this.playid,a],function(b){return d(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return d(!1,b.error.message)})},getCompleteTasks:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getTasksByType",[c,this.playid,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getDoneTasks:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getDoneTasks",[c,this.playid,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},
complete:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("complete",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getReward:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getReward",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getAchievementById:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAchievementById",
[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getAllAchievements:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAllAchievements",[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getAchievementsByType:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAchievementsByType",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},getAchievements:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getAchievements",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getCompleteAchievements:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getCompleteAchievements",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,
b.error.message)})},getDoneAchievements:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getDoneAchievements",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getDailyTaskById:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getDailyTaskById",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getAllDailyTasks:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAllDailyTasks",
[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getDailyTasksByType:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getDailyTasksByType",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getDailyTasks:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getDailyTasks",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},getCompleteDailyTasks:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getCompleteDailyTasks",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getDoneDailyTasks:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getDoneDailyTasks",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,
b.error.message)})}});SgtApi.FriendshipService=SgtApi.FriendshipService||{};
SgtApi.extend(SgtApi.FriendshipService,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==c||"undefined"==typeof c)return!1;this.playid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/friendship.do";return!0},invite:function(c,a,b){var d=new $JsonRpc({ajaxUrl:this.url});a?d.call("invite",[this.playid,c,a],function(a){b(!0,
a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)}):d.call("invite",[this.playid,c],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})},bulkinvite:function(c,a,b){var d=new $JsonRpc({ajaxUrl:this.url});a?d.call("invite",[this.playid,c,a],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)}):d.call("invite",[this.playid,c],function(a){b(!0,
a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})},getInvite:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getInvite",[this.playid],function(a){c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);c(!1,a.error.message)})},getNotConfirm:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getNotConfirm",[this.playid],function(a){c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);c(!1,a.error.message)})},
acceptInvite:function(c,a,b){var d=new $JsonRpc({ajaxUrl:this.url});a?d.call("acceptInvite",[this.playid,c,a],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)}):d.call("acceptInvite",[this.playid,c],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})},acceptotherInvite:function(c,a,b){var d=new $JsonRpc({ajaxUrl:this.url});a?d.call("acceptInvite",[c,this.playid,a],function(a){b(!0,
a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)}):d.call("acceptInvite",[c,this.playid],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})},getMyFriends:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getMyFriends",[c,a,this.playid],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})},unfriend:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("unfriend",
[this.playid,c],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);a(!1,b.error.message)})},getFrindsCount:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getFrindsCount",[this.playid],function(a){c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);c(!1,a.error.message)})},refuse:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("refuse",[c,this.playid],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);a(!1,b.error.message)})},isMyfriend:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("isMyfriend",[this.playid,c],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);a(!1,b.error.message)})},getDenied:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getDenied",[c,a,this.playid],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})}});
SgtApi.FriendshipExtra=SgtApi.FriendshipExtra||{};
SgtApi.extend(SgtApi.FriendshipExtra,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==c||"undefined"==typeof c)return!1;this.playid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/friendshipextra.do";return!0},getAllMyFriendsAndExt:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("getAllMyFriendsAndExt",[this.playid,
c,a,b],function(a){d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);d(!1,a.error.message)})},getMyFriendAndExt:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getMyFriendAndExt",[this.playid,c],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);a(!1,b.error.message)})},updateMyFriendExt:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("updateMyFriendExt",[this.playid,c,a,b],function(a){d(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);d(!1,a.error.message)})},updateMyFriendAllExt:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("updateMyFriendAllExt",[this.playid,c,a],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})},updateAllMyFriendExt:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("updateAllMyFriendExt",[this.playid,c,a],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})}});
SgtApi.BlackListService=SgtApi.BlackListService||{};
SgtApi.extend(SgtApi.BlackListService,{url:null,init:function(){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/blacklist.do";return!0},isInBlackList:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("isInBlacklist",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},addPlayerIntoBlackList:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("addPlayerIntoBlacklist",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})}});SgtApi.GachaBoxService=SgtApi.GachaBoxService||{};
SgtApi.extend(SgtApi.GachaBoxService,{url:null,playerid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==c||"undefined"==typeof c)return!1;this.playerid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/gachabox.do";return!0},getGachaBoxByName:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getGachaBoxByName",[c],function(b){return a(!0,
b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getAvailableGachaBox:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAvailableGachaBox",[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getLotteriesByGachaBoxId:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getLotteriesByGachaBoxId",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},draw:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("draw",[this.playerid,c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},autobalanceDraw:function(c,a,b,d){var e=new $JsonRpc({ajaxUrl:this.url});"number"==typeof b?e.call("autobalanceDraw",[this.playerid,c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,
a.error.message)}):e.call("autobalanceDraw",[this.playerid,c,a],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},customAutobalanceDraw:function(c,a,b,d,e){(new $JsonRpc({ajaxUrl:this.url})).call("autobalanceDraw",[this.playerid,c,a,b,d],function(a){return e(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return e(!1,a.error.message)})},limitDraw:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("limitDraw",
[this.playerid,c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})}});SgtApi.LeaderboardService=SgtApi.LeaderboardService||{};
SgtApi.extend(SgtApi.LeaderboardService,{url:null,playerData:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==c||"undefined"==typeof c)return!1;this.playerData=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/leaderboard.do";return!0},getByLeaderId:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getLeaderBoardScoreByLeaderIdAndPlayerId",
[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getListByLeaderId:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("getTopLeaderBoardScoreByLeaderId",[c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},getListByIdPlayer:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getLeaderBoardScoreByExample",[c,this.playerData],
function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},submitLeaderBoardScore:function(c,a,b){if(""==c||null==c)return b(!1,"\u6392\u884c\u699cid\u4e3a\u7a7a\uff01");if(0>a||null==a)return b(!1,"score\u503c\u9519\u8bef\uff01");(new $JsonRpc({ajaxUrl:this.url})).call("submitLeaderBoardScore",[c,this.playerData.id,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,
a.error.message)})},submitLeaderBoardScores:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("submitLeaderBoardScore",[c,a,b],function(a){return d(!0,a)},function(a){console.log("There was an error:",a);return d(!1,a.message)})},addUpLeaderBoardScore:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("addUpLeaderBoardScore",[c,this.playerData.id,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getInfoByLeaderId:function(c,
a){(new $JsonRpc({ajaxUrl:this.url})).call("getLeaderBoardByLeaderId",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.Mail=function(){this.id=this.fromName=this.fromId=this.content=this.attachment=null;this.sendTime=(new Date).getTime();this.status=SgtApi.config.Mail_TYPE_NOREAD;this.toName=this.toId=this.title=null;this.type=0};SgtApi.MailService=SgtApi.MailService||{};
SgtApi.extend(SgtApi.MailService,{url:null,playerData:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==c||"undefined"==typeof c)return!1;this.playerData=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/mail.do";return!0},sendMail:function(c,a){if(""==c.title||null==c.title)return a(!1,"\u90ae\u4ef6\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a\uff01");
if(""==c.toId||null==c.toId)return a(!1,"\u6536\u90ae\u4ef6\u4ebaID\u4e0d\u80fd\u4e3a\u7a7a\uff01");if(""==c.toName||null==c.toName)return a(!1,"\u6536\u90ae\u4ef6\u4eba\u540d\u5b57\u4e0d\u80fd\u4e3a\u7a7a\uff01");c.fromId=this.playerData.id;c.fromName=this.playerData.name;(new $JsonRpc({ajaxUrl:this.url})).call("send",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},receive:function(c,a,b,d){if(0>c||null==c)c=1;
if(0>a||null==a)a=5;(new $JsonRpc({ajaxUrl:this.url})).call("receive",[c,a,this.playerData.id,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},receiveUnread:function(c){var a=0,b=null,b=cc.sys?cc.sys.localStorage:window.localStorage,d=b.getItem("receiveUnread");"undefined"!=typeof d&&d&&""!=d&&(a=parseInt(d));(new $JsonRpc({ajaxUrl:this.url})).call("receiveUnread",[a,this.playerData.id],function(a){b.setItem("receiveUnread",
Math.round((new Date).getTime()/1E3));return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},readMail:function(c,a){if(null==c)return a(!1,"ID\u4e3a\u7a7a\uff01");(new $JsonRpc({ajaxUrl:this.url})).call("read",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},readAndPickAttachment:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("readAndPickAttachment",
[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},deleteMail:function(c,a){if(null==c)return a(!1,"ID\u4e3a\u7a7a\uff01");(new $JsonRpc({ajaxUrl:this.url})).call("delete",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getReadedAndUnreadedMails:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getReadedAndUnreadedMails",[this.playerData.id],
function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},pickAttachment:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("pickAttachment",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.Notification=SgtApi.Notification||{};
SgtApi.extend(SgtApi.Notification,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(!c||"undefined"==typeof c)return console.log("There was an error:playid is null"),!1;this.playid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/notification.do";return!0},getLatestNotification:function(c,a){var b=new $JsonRpc({ajaxUrl:this.url});
c?b.call("getLatestNotification",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)}):b.call("getLatestNotification",[this.playid],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.Purchase=SgtApi.Purchase||{};
SgtApi.extend(SgtApi.Purchase,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(!c||"undefined"==typeof c)return console.log("There was an error:playid is null"),!1;this.playid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/purchase.do";return!0},getSupportedStores:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getSupportedStores",
[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getAvailableChargePoints:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAvailableChargePoints",[this.playid],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getPaymentResult:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getPaymentResult",[this.playid,c],function(b){return a(!0,
b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getTotalChargeCost:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getTotalChargeCost",[this.playid],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},isFirstCharge:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("isFirstCharge",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},getChargeTimes:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getChargeTimes",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.StoreService=SgtApi.StoreService||{};
SgtApi.extend(SgtApi.StoreService,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(!c||"undefined"==typeof c)return console.log("There was an error:playid is null"),!1;this.playid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/store.do";return!0},getDefaultStore:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getDefaultStore",
[this.playid],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},getStore:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getStore",[c,this.playid],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},purchase:function(c,a,b,d,e){(new $JsonRpc({ajaxUrl:this.url})).call("purchase",[this.playid,c,a,b,d],function(a){return e(!0,a.result)},
function(a){console.log('There was an error["error"]:',a.error);return e(!1,a.error.message)})},countStoreOrdersByPlayerId:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("countStoreOrdersByPlayerId",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},countItemOrdersByPlayerId:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("countItemOrdersByPlayerId",[this.playid,c,a],function(a){return b(!0,
a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getOrderById:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getOrderById",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getLastPurchaseTimeMillis:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getLastPurchaseTimeMillis",[this.playid,c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},updateOrderStatus:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("updateOrderStatus",[c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})}});SgtApi.ChargePoint=SgtApi.ChargePoint||{};
SgtApi.extend(SgtApi.ChargePoint,{url:null,init:function(){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/chargepoint.do";return!0},getAllChargePoints:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAllChargePoints",[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return c(!1,a.error.message)})},getAvailableChargePoints:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getAvailableChargePoints",[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})}});SgtApi.BossService=SgtApi.BossService||{};
SgtApi.extend(SgtApi.BossService,{url:null,playerData:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==playerData)return!1;this.playerid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/boss.do";return!0},getByBossIdstr:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getByBossIds",[c],function(b){return a(!0,b.result)},
function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getByBossIdint:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getByBossIds",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getByBossId:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getByBossId",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,
b.error.message)})},attack:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("attack",[c,a,this.playerid],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getCurrentHP:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getCurrentHP",[c,this.playerid],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getLastAttackPlayer:function(c,
a){(new $JsonRpc({ajaxUrl:this.url})).call("getLastAttackPlayer",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.FileStorage=SgtApi.FileStorage||{};
SgtApi.extend(SgtApi.FileStorage,{url:null,init:function(){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/filestorage.do";return!0},getUrl:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getUrl",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,
b.error.message)})},"delete":function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("delete",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.GiftCode=SgtApi.GiftCode||{};
SgtApi.extend(SgtApi.GiftCode,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(!c||"undefined"==typeof c)return console.log("There was an error:playid is null"),!1;this.playid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/giftcode.do";return!0},getGifts:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("getGifts",
[],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},redeem:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("redeem",[this.playid,c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getGiftByCode:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getGiftByCode",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},getRecord:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("getRecord",[this.playid,c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},redeemOverMail:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getRecord",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},redeemGiftByCodeOverMail:function(c,
a){(new $JsonRpc({ajaxUrl:this.url})).call("redeemGiftByCodeOverMail",[this.playid,c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.PrivateChannel=SgtApi.PrivateChannel||{};
SgtApi.extend(SgtApi.PrivateChannel,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(c)this.playid=c;else return console.log("There was an error:playid is null"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/privatechannel.do";return!0},pushMessage:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("pushMessage",
[c,this.playid,a,b],function(a){d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);d(!1,a.error.message)})},pushMessages:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("pushMessages",[c,this.playid,a,b],function(a){d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);d(!1,a.error.message)})},popMessage:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("popMessage",[c,this.playid],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);a(!1,b.error.message)})},popMessageBy:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("popMessage",[c,this.playid,a,b],function(a){d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);d(!1,a.error.message)})},clearChannel:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("clearChannel",[c,this.playid],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);a(!1,b.error.message)})}});
SgtApi.PublicChannelService=SgtApi.PublicChannelService||{};
SgtApi.extend(SgtApi.PublicChannelService,{url:null,init:function(){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/publicchannel.do";return!0},createChannel:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("createChannel",[c,a],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);b(!1,a.error.message)})},pushMessage:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("pushMessage",[c,a,b],function(a){d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);d(!1,a.error.message)})},popAllMessage:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("popAllMessage",[c],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);a(!1,b.error.message)})},popMessage:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("popMessage",
[c,createTime,b],function(a){d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);d(!1,a.error.message)})},popMessageOrnum:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("popMessage",[c,a],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})},popMessageOrnumtim:function(c,a,b,d,e){(new $JsonRpc({ajaxUrl:this.url})).call("popMessage",[c,a,b,d],function(a){e(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);e(!1,a.error.message)})},clearChannel:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("clearChannel",[c],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);a(!1,b.error.message)})},deleteMessage:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("deleteMessage",[c,a],function(a){b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);b(!1,a.error.message)})},getMessageContent:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getMessageContent",
[c],function(b){a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);a(!1,b.error.message)})}});SgtApi.DelegateDid=SgtApi.DelegateDid||{};
SgtApi.extend(SgtApi.DelegateDid,{url:null,playid:null,init:function(c){if(null==SgtApi.AccountService.userData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff01"),!1;if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(!c||"undefined"==typeof c)return console.log("There was an error:playid is null"),!1;this.playid=c;this.url=SgtApi.AccountService.playServerData.address+
"/"+SgtApi.config.AppId+"/delegatedid.do";return!0},createDid:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("createDid",[SgtApi.AccountService.playServerData.id,SgtApi.userData.userid,this.playid],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})},queryByDid:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("queryByDid",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},queryByCondition:function(c){(new $JsonRpc({ajaxUrl:this.url})).call("queryByCondition",[SgtApi.AccountService.playServerData.id,this.playid],function(a){return c(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return c(!1,a.error.message)})}});SgtApi.StructuredDataService=SgtApi.StructuredDataService||{};
SgtApi.extend(SgtApi.StructuredDataService,{url:null,init:function(){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/structureddata.do";return!0},getValue:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getValue",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',
b.error);return a(!1,b.error.message)})},saveOrUpdateValue:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("saveOrUpdateValue",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},getListValue:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getListValue",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},addListValue:function(c,
a,b){(new $JsonRpc({ajaxUrl:this.url})).call("addListValue",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},updateListValue:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("updateListValue",[c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},getMapValue:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getHashValue",
[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},getMapValue:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("getHashValue",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},saveOrUpdateMap:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("saveOrUpdateHashValue",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},setOrUpdateHashValue:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("saveOrUpdateHashValue",[c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},getSetValue:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getSetValue",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},addSetValue:function(c,
a,b){(new $JsonRpc({ajaxUrl:this.url})).call("addSetValue",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},updateSetValue:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("updateSetValue",[c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},getZSetValue:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("getZSetValue",
[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},addZSetValue:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("addZSetValue",[c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},updateZSetValue:function(c,a,b,d,e){(new $JsonRpc({ajaxUrl:this.url})).call("updateZSetValue",[c,a,b,d],function(a){return e(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return e(!1,a.error.message)})},getZSetRangByScore:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("getZSetRangByScore",[c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},getListByIndex:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("getListByIndex",[c,a,b],function(a){return d(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},
remove:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("remove",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})},removeFromSet:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("removeFromSet",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},removeFromHash:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("removeFromHash",
[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},containtSet:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("containtSet",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',a.error);return b(!1,a.error.message)})},containsHash:function(c,a,b){(new $JsonRpc({ajaxUrl:this.url})).call("containsHash",[c,a],function(a){return b(!0,a.result)},function(a){console.log('There was an error["error"]:',
a.error);return b(!1,a.error.message)})},containsKey:function(c,a){(new $JsonRpc({ajaxUrl:this.url})).call("containsKey",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});SgtApi.Ticket=function(){this.content=null;this.createTime=(new Date).getTime();this.feedbackInfo=null;this.id=0;this.senderPlayerId=null;this.status=1;this.title=this.targetPlayerId=null;this.type=1};
SgtApi.TicketService=SgtApi.TicketService||{};
SgtApi.extend(SgtApi.TicketService,{url:null,playerid:null,init:function(c){if(null==SgtApi.AccountService.playServerData)return console.log("There was an error:","\u6ca1\u83b7\u53d6\u89d2\u8272\u670d\u52a1\u5668\u4fe1\u606f\uff01"),!1;if(null==c)return!1;this.playerid=c;this.url=SgtApi.AccountService.playServerData.address+"/"+SgtApi.config.AppId+"/ticket.do";return!0},getTicketsById:function(c,a,b,d){(new $JsonRpc({ajaxUrl:this.url})).call("getTicketsBySenderPlayerId",[this.playerid,c,a,b],function(a){return d(!0,
a.result)},function(a){console.log('There was an error["error"]:',a.error);return d(!1,a.error.message)})},sendTicket:function(c,a){c.senderPlayerId=this.playerid;(new $JsonRpc({ajaxUrl:this.url})).call("sendTicket",[c],function(b){return a(!0,b.result)},function(b){console.log('There was an error["error"]:',b.error);return a(!1,b.error.message)})}});jsonRPC=Object({version:"2.0",endPoint:null,namespace:null,setup:function(c){this.endPoint=c.endPoint;this.namespace=c.namespace;this.cache=void 0!==c.cache?c.cache:!0;return this},request:function(c,a){void 0===a&&(a={id:1});void 0===a.id&&(a.id=1);void 0===a.cache&&(a.cache=this.cache);this._doRequest(JSON.stringify(this._requestDataObj(c,a.params,a.id)),a);return!0},_requestDataObj:function(c,a,b){c={jsonrpc:this.version,method:this.namespace?this.namespace+"."+c:c,id:b};void 0!==a&&(c.params=
a);return c},_requestUrl:function(c,a){c=c||this.endPoint;a||(c=0>c.indexOf("?")?c+("?tm="+(new Date).getTime()):c+("&tm="+(new Date).getTime()));return c},_doRequest:function(c,a){var b=this,d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&(200==d.status?b._requestSuccess.call(b,d.responseText,a.success,a.error):b._requestError.call(b,d.responseText,a.error))};d.open("POST",this._requestUrl(this.endPoint||a.url,a.cache),!0);for(var e=[{name:"Accept",type:"application/json, text/javascript, */*;"},
{name:"Content-Type",type:"application/json-rpc"}],f=0;f<e.length;f++)d.setRequestHeader(e[f].name,e[f].type);d.send(c)},_requestError:function(c,a){if(void 0!==a&&"function"===typeof a)if("string"===typeof c)try{a(eval("("+c+")"))}catch(b){a(this._response())}else a(this._response())},_requestSuccess:function(c,a,b){c=this._response(c);c.error&&"function"===typeof b?b(c):"function"===typeof a&&a(c)},_response:function(c){if(void 0===c)return{error:"Internal server error",version:"2.0"};try{return"string"===
typeof c&&(c=eval("("+c+")")),c}catch(a){return{error:"Internal server error: "+a,version:"2.0"}}}});
